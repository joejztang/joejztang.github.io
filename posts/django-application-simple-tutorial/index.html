<!doctype html><html lang=en><head><title>Django application simple tutorial Â· 130l</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="130l"><meta name=description content="This is sort of a cheating sheet for a simple django application. You can get ideas on how to create a fully functional django application."><meta name=keywords content="blog,science,technology,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="Django application simple tutorial"><meta name=twitter:description content="This is sort of a cheating sheet for a simple django application. You can get ideas on how to create a fully functional django application."><meta property="og:url" content="http://www.example.com/posts/django-application-simple-tutorial/"><meta property="og:site_name" content="130l"><meta property="og:title" content="Django application simple tutorial"><meta property="og:description" content="This is sort of a cheating sheet for a simple django application. You can get ideas on how to create a fully functional django application."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-11-06T20:50:52+00:00"><meta property="article:modified_time" content="2017-11-06T20:50:52+00:00"><meta property="article:tag" content="Python"><link rel=canonical href=http://www.example.com/posts/django-application-simple-tutorial/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.4b392a85107b91dbdabc528edf014a6ab1a30cd44cafcd5325c8efe796794fca.css integrity="sha256-SzkqhRB7kdvavFKO3wFKarGjDNRMr81TJcjv55Z5T8o=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/img/favicon.svg sizes=any><link rel=icon type=image/png href=/img/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/img/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=http://www.example.com/>130l
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Posts</a></li><li class=navigation-item><a class=navigation-link href=/about/>About</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=http://www.example.com/posts/django-application-simple-tutorial/>Django application simple tutorial</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2017-11-06T20:50:52Z>November 6, 2017
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
5-minute read</span></div><div class=categories><i class="fa-solid fa-folder" aria-hidden=true></i>
<a href=/categories/django/>Django</a></div><div class=tags><i class="fa-solid fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/python/>Python</a></span></div></div></header><div class=post-content><p>This is sort of a cheating sheet for a simple django application. You can get ideas on how to create a fully functional django application.</p><ul><li>Create a project and a application</li></ul><p>to start a project, go to directory you want to creat the application, do the following:</p><p><code>django-admin startproject &lt;your_project_name></code></p><p>then <code>cd</code> to that project folder,</p><p><code>django_admin startapp &lt;your_app_name></code></p><ul><li>Create template folder</li></ul><p>Because django is a MTV (model-template-views) framework &ndash;although I think it is sort of like MVC framework and Views in MTV is just like the Controller in MVC and Template is just like the Views in MVC &ndash; so that it is better to have a seperate folder to cache all the templates and makes the app clean. following is the tree view of the whole project.</p><pre tabindex=0><code>your_project
	|
	--your_app1
	|
	--your_app2
	|
	...
	|
	--templates
		|
		--your_app1
		|	|
			--your_app1.html
		|	|
			...
		|
		--your_app2
		
</code></pre><p>once you have <code>templates</code> folder, you want to register template folder in <code>settings.py</code>.</p><p>by giving <code>TEMPLATE_DIR = os.path.join(BASE_DIR, 'templates')</code>, you will get templates directory. One more step, find variable <code>TEMPLATES</code>, and in this list, you can find <code>DIRS</code>. Then add <code>TEMPLATE_DIR</code> in <code>DIRS</code> list.</p><ul><li>register app in <code>settings.py</code></li></ul><p>find <code>INSTALLED_APPS</code>, and then add &lt;your_appx>&rsquo;s name in <code>INSTALLED_APPS</code> list.</p><ul><li>create models</li></ul><p><strong>TBD</strong></p><ul><li><p>create forms</p><ul><li>To create forms is very similar with to create a model. Instead of <code>models.py</code> is generic, you have to manually create a <code>forms.py</code>. You then want to import and create form stuff.</li></ul><p>here is a simple <code>forms.py</code> file</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>from</span> <span style=color:#ff7b72>django</span> <span style=color:#ff7b72>import</span> forms
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff7b72>def</span> <span style=color:#d2a8ff;font-weight:700>FormName</span>(forms<span style=color:#ff7b72;font-weight:700>.</span>Form):
</span></span><span style=display:flex><span>	name <span style=color:#ff7b72;font-weight:700>=</span> forms<span style=color:#ff7b72;font-weight:700>.</span>CharField()
</span></span><span style=display:flex><span>	email <span style=color:#ff7b72;font-weight:700>=</span> forms<span style=color:#ff7b72;font-weight:700>.</span>CharField()
</span></span><span style=display:flex><span>	text <span style=color:#ff7b72;font-weight:700>=</span> forms<span style=color:#ff7b72;font-weight:700>.</span>CharField(widget <span style=color:#ff7b72;font-weight:700>=</span> forms<span style=color:#ff7b72;font-weight:700>.</span>Textarea)
</span></span></code></pre></div><ul><li><p>and then after you create a <code>forms.py</code>, you need to show it by using a <code>views.py</code></p><p>As always, in <code>views.py</code>, we need to import forms. there are two ways of doing it</p><ul><li><p><code>from . imports forms</code></p></li><li><p><code>from forms import Formname</code> <strong>(I don&rsquo;t quite understand this methord)</strong></p></li></ul><p>after importing, we use <code>render()</code> to give the form to template just like before. something like following:</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#ff7b72>def</span> <span style=color:#d2a8ff;font-weight:700>form_name_view</span>(request):
</span></span><span style=display:flex><span>	form <span style=color:#ff7b72;font-weight:700>=</span> forms<span style=color:#ff7b72;font-weight:700>.</span>FormName()
</span></span><span style=display:flex><span>	<span style=color:#ff7b72>return</span> render(request, <span style=color:#a5d6ff>&#39;form_name.html&#39;</span>, {<span style=color:#a5d6ff>&#39;form&#39;</span>:form})
</span></span></code></pre></div></li><li><p>take care of <code>urls.py</code></p></li><li><p>modify html files</p></li></ul><p>inject forms by using <code>{{ form }}</code> is the most basic way of doing it.</p><p>more complete snippet see the following:</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#ff7b72;font-weight:700>&lt;</span>div <span style=color:#ff7b72>class</span> <span style=color:#f85149>= &#34;</span><span style=color:#f0883e;font-weight:700>container</span><span style=color:#a5d6ff>&#34;&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#ff7b72;font-weight:700>&lt;</span>form method <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#34;POST&#34;</span><span style=color:#ff7b72;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>		{{ form<span style=color:#ff7b72;font-weight:700>.</span>as_p }}
</span></span><span style=display:flex><span>		{<span style=color:#ff7b72;font-weight:700>%</span> csrf_token <span style=color:#ff7b72;font-weight:700>%</span>}
</span></span><span style=display:flex><span>		<span style=color:#ff7b72;font-weight:700>&lt;</span>input type <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#34;submit&#34;</span> <span style=color:#ff7b72>class</span> <span style=color:#f85149>= &#34;</span><span style=color:#f0883e;font-weight:700>btn</span> btn<span style=color:#ff7b72;font-weight:700>-</span>primary<span style=color:#a5d6ff>&#34; value = &#34;</span>Submit<span style=color:#a5d6ff>&#34;&gt;</span>
</span></span><span style=display:flex><span>	<span style=color:#ff7b72;font-weight:700>&lt;/</span>form<span style=color:#ff7b72;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span><span style=color:#ff7b72;font-weight:700>&lt;/</span>div<span style=color:#ff7b72;font-weight:700>&gt;</span>
</span></span></code></pre></div><p>calling <code>{{ form.as_p }}</code> will create form from top to bottom instead of from left to right. In other words, the layout is prettier.</p><p>because of django security measures, you have to add <code>{% csrf_token %}</code>, or it would fail.</p><ul><li>receive form <code>post</code></li></ul><p>we can access a dictionary like attribute of the <code>cleaned_data[]</code></p><p>something like the following:</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#ff7b72;font-weight:700>...</span>
</span></span><span style=display:flex><span>print(<span style=color:#a5d6ff>&#39;&lt;your_key_name&gt;: &#39;</span><span style=color:#ff7b72;font-weight:700>+</span> form<span style=color:#ff7b72;font-weight:700>.</span>cleaned_data[<span style=color:#a5d6ff>&#39;&lt;your_key_name&gt;&#39;</span>])
</span></span><span style=display:flex><span><span style=color:#ff7b72;font-weight:700>...</span>
</span></span></code></pre></div></li><li><p>form validation</p><ul><li>dummy validation</li></ul><p>in <code>forms.py</code>, hidden field can be used for validation.</p><p>we use hidden fields. just add a new field in the model in <code>forms.py</code>.</p><p>after we add a hidden field, maybe call it &lsquo;botcatcher&rsquo;, assign that <code>widget = forms.HiddenInput</code>. If a bot came in, it will change the input&rsquo;s value, but since human won&rsquo;t see it, we can catch this bot. in <code>forms.py</code>, we can have another method called <code>clean_&lt;your_hidden_fields_name></code>, use built-in function <code>self.clean_data['botcatcher']</code>, we can get the value of input. if value length is greater than 0, then <code>raise ValidationError</code>. raise error will print message on page.</p><ul><li>generic validation</li></ul><p><code>from django.core import validator</code></p><p>then pass in <code>validator</code> parameter to do validation.</p><ul><li>customize validation function</li></ul><p>just create a new function, and then pass it into <code>validator = [&lt;your_function>]</code></p><ul><li>use clean data</li></ul><p>if you wants to use clean data, just use <code>super().clean()</code></p></li><li><p>form model</p></li></ul><p>form model can easily &rsquo;exploit&rsquo; your models that is already there and make them into form.</p><p><code>class Meta():</code></p><p>see django documentation</p><ul><li>about <code>views.py</code>, my understanding</li></ul><p>views here in django is just like controller in traditional MVC framework. it is not really a actually view or I should say html file or template, but it is a &lsquo;controller&rsquo; to control what to show in django template.</p><ul><li>templates tagging and inheritance</li></ul><p>firstly in apps <code>urls.py</code>, we need to set a namespace. <code>app_name = &lt;your_app_name></code></p><p>see documentation</p><p><code>{% block body_block %} {% endblock %}</code></p><p><code>{% extend &lt;your_base_html_file> %}</code></p><ul><li>django filter</li></ul><p>say you want to display all capital letters in one page and display all lower letters in another page, that is why we use filters.</p><p>see documentation <code>django templates</code></p><p><code>{{ value| filter: "parameter" }}</code></p><p><code>{% load my_templates %}</code></p><ul><li>user authentication</li></ul><p>in <code>settings.py</code> file:</p><p>two useful packeage:</p><p><code>pip install bcrypt</code></p><p><code>pip install django[argon2]</code></p><p>then you probably want to do password validation, that comes to <code>PASSWORD_HASHERS</code>, this must be added manually.</p><p>after that, you take care of directories. like template dir, static dir and media dir. Don&rsquo;t forget to add folders named templates, static and media.</p><p>now the modification in <code>settings.py</code> is done.</p><p>then to create user authorization models.</p><p>in <code>models.py</code> file: as introductions saying</p><p>in <code>forms.py</code> file: as introduction saying</p><p>in <code>admin.py</code> file: as introduction saying</p><p>we have to prepare this 3 files first.</p><p>then create the templates</p><p>at last, just modify <code>views.py</code>, <code>urls.py</code></p><ul><li>deployment choices</li></ul><p><a href=https://help.pythonanywhere.com/pages/DeployExistingDjangoProject/ class=external-link target=_blank rel=noopener>pythonanywhere</a></p><p><code>mkvirtualevn --python=python3.6 myproj</code></p><p>the above is to create a virtual enviroment for pythonanywhere</p><p><code>pip list</code></p><p>check tools</p><p><a href=https://devcenter.heroku.com/articles/deploying-python class=external-link target=_blank rel=noopener>heroku</a></p><p><a href=http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create-deploy-python-django.html class=external-link target=_blank rel=noopener>AWS</a></p><p><a href=https://www.digitalocean.com/community/tutorials/how-to-deploy-a-local-django-app-to-a-vps class=external-link target=_blank rel=noopener>DigitalOcean</a></p><ul><li>Class based views(CBV)</li></ul><p><code>from django.views.generic import View</code></p><p>in <code>views.py</code>, views would be written as a Class, maybe called <code>Class CBView(View)</code></p><p>and then, in <code>urls.py</code>, could call <code>url(r'^$', views.CBView.as_view())</code></p><p>CBV to call template view, you do this:</p><p><code>from django.views.generic import TemplateView</code></p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>IndexView</span>(TemplateView):
</span></span><span style=display:flex><span>	template_name <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;index.html&#39;</span>
</span></span></code></pre></div><p>for injecting dictionary to html, it is like the following:</p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>IndexView</span>(TemplateView):
</span></span><span style=display:flex><span>	template_name <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;index.html&#39;</span>
</span></span><span style=display:flex><span>	
</span></span><span style=display:flex><span>	<span style=color:#ff7b72>def</span> <span style=color:#d2a8ff;font-weight:700>get_context_data</span>(self, <span style=color:#ff7b72;font-weight:700>**</span>kwargs):
</span></span><span style=display:flex><span>		context <span style=color:#ff7b72;font-weight:700>=</span> super()<span style=color:#ff7b72;font-weight:700>.</span>get_context_data(<span style=color:#ff7b72;font-weight:700>**</span>kwargs)
</span></span><span style=display:flex><span>		context[<span style=color:#a5d6ff>&#39;&lt;your_inject_key&gt;&#39;</span>] <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;&lt;your_value&gt;&#39;</span>
</span></span><span style=display:flex><span>		<span style=color:#ff7b72>return</span> context
</span></span></code></pre></div><ul><li>detail view and list view</li></ul><p><code>from django.views.generic import ListView, DetailView</code></p><div class=highlight><pre tabindex=0 style=color:#e6edf3;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-py data-lang=py><span style=display:flex><span><span style=color:#ff7b72>from</span> <span style=color:#ff7b72>django.views.generic</span> <span style=color:#ff7b72>import</span> ListView, DetailView
</span></span><span style=display:flex><span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>SchoolListView</span>(ListView):
</span></span><span style=display:flex><span>	model <span style=color:#ff7b72;font-weight:700>=</span> models<span style=color:#ff7b72;font-weight:700>.</span>School
</span></span><span style=display:flex><span>	
</span></span><span style=display:flex><span><span style=color:#ff7b72>class</span> <span style=color:#f0883e;font-weight:700>SchoolDetailView</span>(DetailView):
</span></span><span style=display:flex><span>	model <span style=color:#ff7b72;font-weight:700>=</span> models<span style=color:#ff7b72;font-weight:700>.</span>School
</span></span><span style=display:flex><span>	template_name <span style=color:#ff7b72;font-weight:700>=</span> <span style=color:#a5d6ff>&#39;basic_app/school_detail.html&#39;</span>
</span></span><span style=display:flex><span>	
</span></span></code></pre></div></div><footer></footer></article></section></div><footer class=footer><section class=container>Â©
1990 -
2025
130l
Â·
Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script></body></html>