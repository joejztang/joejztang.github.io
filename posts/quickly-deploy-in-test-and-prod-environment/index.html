<!doctype html><html lang=en><head><title>quickly deploy in test and prod environment · 130l</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="130l"><meta name=description content="recently, I wrote python application a lot. sometimes it is nice to quickly switching running pattern between test mode and prod mode, or raise a debug flag to see debug messages.
previously, I don&rsquo;t really have a systematic way doing that, but recently, I thought I should probably have one in case of future using.
so my thoughts on this problem is like this.

embedded some point in functions that you can using as switching mode.

for example, in production time you need to download 20 tables each batch, and probably you only need to download 3 when you just want to test if it is working."><meta name=keywords content="blog,science,technology,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="quickly deploy in test and prod environment"><meta name=twitter:description content="recently, I wrote python application a lot. sometimes it is nice to quickly switching running pattern between test mode and prod mode, or raise a debug flag to see debug messages.
previously, I don’t really have a systematic way doing that, but recently, I thought I should probably have one in case of future using.
so my thoughts on this problem is like this.
embedded some point in functions that you can using as switching mode. for example, in production time you need to download 20 tables each batch, and probably you only need to download 3 when you just want to test if it is working."><meta property="og:url" content="http://www.example.com/posts/quickly-deploy-in-test-and-prod-environment/"><meta property="og:site_name" content="130l"><meta property="og:title" content="quickly deploy in test and prod environment"><meta property="og:description" content="recently, I wrote python application a lot. sometimes it is nice to quickly switching running pattern between test mode and prod mode, or raise a debug flag to see debug messages.
previously, I don’t really have a systematic way doing that, but recently, I thought I should probably have one in case of future using.
so my thoughts on this problem is like this.
embedded some point in functions that you can using as switching mode. for example, in production time you need to download 20 tables each batch, and probably you only need to download 3 when you just want to test if it is working."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2019-07-11T15:55:12+00:00"><meta property="article:modified_time" content="2019-07-11T15:55:12+00:00"><link rel=canonical href=http://www.example.com/posts/quickly-deploy-in-test-and-prod-environment/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.4b392a85107b91dbdabc528edf014a6ab1a30cd44cafcd5325c8efe796794fca.css integrity="sha256-SzkqhRB7kdvavFKO3wFKarGjDNRMr81TJcjv55Z5T8o=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/img/favicon.svg sizes=any><link rel=icon type=image/png href=/img/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/img/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=http://www.example.com/>130l
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Posts</a></li><li class=navigation-item><a class=navigation-link href=/about/>About</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=http://www.example.com/posts/quickly-deploy-in-test-and-prod-environment/>quickly deploy in test and prod environment</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2019-07-11T15:55:12Z>July 11, 2019
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
2-minute read</span></div></div></header><div class=post-content><p>recently, I wrote python application a lot. sometimes it is nice to quickly switching running pattern between test mode and prod mode, or raise a debug flag to see debug messages.</p><p>previously, I don&rsquo;t really have a systematic way doing that, but recently, I thought I should probably have one in case of future using.</p><p>so my thoughts on this problem is like this.</p><ul><li>embedded some point in functions that you can using as switching mode.</li></ul><p>for example, in production time you need to download 20 tables each batch, and probably you only need to download 3 when you just want to test if it is working.</p><p>you want to embedded a &lsquo;switch&rsquo; into it. by saying switch, I mean possibly a parameter from <code>config.py</code>.</p><p>in this way, when you want to run the application in prod, you just change parameter in <code>config.py</code> before started. in test env, you just change back to test parameter, and of course before application started.</p><ul><li>using <code>argparse</code> in <code>main</code> module.</li></ul><p>I always write several modules, in each module I just implement functions or classes related to this module. and later on I have a main module to chain every module together.</p><p>by doing so, I can use <code>argparse</code> on the top of <code>main.py</code> to read in any flags in command line.</p><p>and I can also have a deploy controller, within this controller module I can have different preset patterns/modes of running the application. the meaning of different patterns of running the application is just as simple as forcely changing dict&rsquo;s key in <code>config.py</code> or class field in <code>config.py</code>. by utilizing this trick I can accomplish quickly switching from different running pattern.</p><p>it also double check the configuration in prod, gives more relief.</p><p>By combining those two tricks, I can easily swithing running patterns.</p></div><footer></footer></article></section></div><footer class=footer><section class=container>©
1990 -
2025
130l
·
Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script></body></html>