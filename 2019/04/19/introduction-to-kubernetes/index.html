<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="migrating to raspberry server"><title>introduction to kubernetes | 130L blog</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-118615339-1','auto');ga('send','pageview');
</script><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"><meta name="generator" content="Hexo 5.2.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">introduction to kubernetes</h1><a id="logo" href="/.">130L blog</a><p class="description">Cogito, ergo sum</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">introduction to kubernetes</h1><div class="post-meta">2019-04-19</div><a class="disqus-comment-count" data-disqus-identifier="2019/04/19/introduction-to-kubernetes/" href="/2019/04/19/introduction-to-kubernetes/#disqus_thread"></a><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">Contents</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#kubernetes-architecture"><span class="toc-number">1.</span> <span class="toc-text">kubernetes architecture</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#master-nodes"><span class="toc-number">1.1.</span> <span class="toc-text">master nodes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#worker-nodes"><span class="toc-number">1.2.</span> <span class="toc-text">worker nodes</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#network-setup-challenges"><span class="toc-number">2.</span> <span class="toc-text">network setup challenges</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#set-a-unique-ip-to-each-pod"><span class="toc-number">2.1.</span> <span class="toc-text">set a unique ip to each pod</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#containers-communications-inside-pod"><span class="toc-number">2.2.</span> <span class="toc-text">containers communications inside pod</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pod-to-pod-communication"><span class="toc-number">2.3.</span> <span class="toc-text">pod to pod communication</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pod-communicates-to-outside-world"><span class="toc-number">2.4.</span> <span class="toc-text">pod communicates to outside world</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#different-kubernetes-configurations"><span class="toc-number">3.</span> <span class="toc-text">different kubernetes configurations</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pod"><span class="toc-number">4.</span> <span class="toc-text">pod</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#labels"><span class="toc-number">5.</span> <span class="toc-text">labels</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ReplicationControllers"><span class="toc-number">6.</span> <span class="toc-text">ReplicationControllers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ReplicaSet"><span class="toc-number">7.</span> <span class="toc-text">ReplicaSet</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#deployments"><span class="toc-number">8.</span> <span class="toc-text">deployments</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#deployment-rollout"><span class="toc-number">8.1.</span> <span class="toc-text">deployment rollout</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#namespaces"><span class="toc-number">9.</span> <span class="toc-text">namespaces</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#authentication"><span class="toc-number">10.</span> <span class="toc-text">authentication</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#services"><span class="toc-number">11.</span> <span class="toc-text">services</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#label-selector"><span class="toc-number">11.1.</span> <span class="toc-text">label selector</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#kube-proxy"><span class="toc-number">11.2.</span> <span class="toc-text">kube-proxy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#service-discovery"><span class="toc-number">11.3.</span> <span class="toc-text">service discovery</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#service-type"><span class="toc-number">11.4.</span> <span class="toc-text">service type</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#useful-commands"><span class="toc-number">12.</span> <span class="toc-text">useful commands</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#volume-management"><span class="toc-number">13.</span> <span class="toc-text">volume management</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#PVC"><span class="toc-number">13.1.</span> <span class="toc-text">PVC</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Container-Storage-Interface-CSI"><span class="toc-number">13.2.</span> <span class="toc-text">Container Storage Interface CSI</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#config-app-using-ConfigMaps"><span class="toc-number">14.</span> <span class="toc-text">config app using ConfigMaps</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#configuration-file-for-ConfigMap-creation"><span class="toc-number">14.1.</span> <span class="toc-text">configuration file for ConfigMap creation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#create-ConfigMap"><span class="toc-number">14.2.</span> <span class="toc-text">create ConfigMap</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ingress"><span class="toc-number">15.</span> <span class="toc-text">Ingress</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Ingress-Controller"><span class="toc-number">15.1.</span> <span class="toc-text">Ingress Controller</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#credit-to"><span class="toc-number">16.</span> <span class="toc-text">credit to</span></a></li></ol></div></div><div class="post-content"><h2 id="kubernetes-architecture"><a href="#kubernetes-architecture" class="headerlink" title="kubernetes architecture"></a>kubernetes architecture</h2><ul>
<li>one or more master nodes</li>
<li>one or more worker nodes</li>
<li>distributed key - value storage (for state purposes)</li>
</ul>
<h3 id="master-nodes"><a href="#master-nodes" class="headerlink" title="master nodes"></a>master nodes</h3><p>master nodes are entry point for administrative tasks. if there are more master nodes, then it would be in HA (high availability) mode.</p>
<p>in this time, one of them is a ‘leader’ and others are followers.</p>
<p>all master nodes connect to distributed key-value storage. kubernetes is using etcd. the aim is to manage the cluster state.</p>
<p>a master node has following components:</p>
<ul>
<li>API server: user send admin task to kubernetes. API server receive the requests, validates and processes them. finally, the result will be storing in etcd</li>
<li>scheduler: schedules the work to different worker nodes. scheduler schedules the work in term of pods and services.</li>
<li>controller manager: manage different control loops. each of control loops knows about the desired state of the objects it manages, and watches their current state through API server. corrective steps will be performed if the state is not the desired state.</li>
<li>etcd: stores cluster state, configuration details.</li>
</ul>
<h3 id="worker-nodes"><a href="#worker-nodes" class="headerlink" title="worker nodes"></a>worker nodes</h3><p>a worker node is a machine runs applications using pods. it is controlled by the master node.</p>
<p>a Pod is the scheduling unit in k8s. it is a logical collection of one or more containers which are always scheduled together.</p>
<p>a worker node has the following components:</p>
<ul>
<li>container runtime: examples of container runtimes are <code>containerd, rkt, lxd</code>. docker is using <code>containerd</code></li>
<li>kubelet:<br>kubelet communicates with master node. it receives pod defination that api server sends, and runs the containers associated with the pod.<br>kubelet connects to container runtime using <strong>Container Runtime Interface <a target="_blank" rel="noopener" href="https://kubernetes.io/blog/2016/12/container-runtime-interface-cri-in-kubernetes/">(CRI)</a></strong><br><img src="/images/kubelet.PNG" alt="CRI"><ul>
<li>cri shims: <code>dockershim</code> and <code>cri-containerd</code></li>
</ul>
</li>
<li>kube-proxy: </li>
</ul>
<h2 id="network-setup-challenges"><a href="#network-setup-challenges" class="headerlink" title="network setup challenges"></a>network setup challenges</h2><ul>
<li>a unique ip is assigned to each pod</li>
<li>containers in a pod can communicate to each other</li>
<li>the pod is able to commuicate with other pods in the cluster</li>
<li>if configured, the application deployed inside a pod is accessible from the external world.</li>
</ul>
<h3 id="set-a-unique-ip-to-each-pod"><a href="#set-a-unique-ip-to-each-pod" class="headerlink" title="set a unique ip to each pod"></a>set a unique ip to each pod</h3><p>container runtime offloads ip assignment to CNI, which connects to underlying plugins. once the ip address is given by respective plugin, CNI forwards it back to the requested container runtime.</p>
<p><img src="/images/cni.png" alt="cni"></p>
<h3 id="containers-communications-inside-pod"><a href="#containers-communications-inside-pod" class="headerlink" title="containers communications inside pod"></a>containers communications inside pod</h3><p>inside a pod, containers share the network namespaces, so that they can reach to each other via localhost.</p>
<h3 id="pod-to-pod-communication"><a href="#pod-to-pod-communication" class="headerlink" title="pod to pod communication"></a>pod to pod communication</h3><ul>
<li>routable pods and nodes, using the underlying physical infrastructure</li>
<li>using software defined networking, like Flannel, Weave, Calico</li>
</ul>
<h3 id="pod-communicates-to-outside-world"><a href="#pod-communicates-to-outside-world" class="headerlink" title="pod communicates to outside world"></a>pod communicates to outside world</h3><p>using kube-proxy</p>
<h2 id="different-kubernetes-configurations"><a href="#different-kubernetes-configurations" class="headerlink" title="different kubernetes configurations"></a>different kubernetes configurations</h2><ul>
<li>all-in-one single node installation: Minikube. it is useful for development</li>
<li>single-node etcd, single master and multiple workers</li>
<li>single-node etcd, multiple masters and multiple workers</li>
<li>multi-node etcd, mutiple masters and multiple workers</li>
</ul>
<h2 id="pod"><a href="#pod" class="headerlink" title="pod"></a>pod</h2><p>a pod is the smallest and simplest kubernetes object. It is the unit of deployment in Kubernetes, which represents a single instance of the application. A Pod is a logical collection of one or more containers.</p>
<p><img src="/images/pods.png" alt="pods"></p>
<h2 id="labels"><a href="#labels" class="headerlink" title="labels"></a>labels</h2><p>labels are key-value pairs that attached to any kubernets object. Labels are used to organize and select a subset of objects, based on the requirements in place. Many objects can have the same Label(s)</p>
<p>also we can use label selector to select object with certain labels, eg: <code>&#39;env==dev&#39;</code></p>
<h2 id="ReplicationControllers"><a href="#ReplicationControllers" class="headerlink" title="ReplicationControllers"></a>ReplicationControllers</h2><p>a ReplicationController (rc) is a part of master node’s controller manager. rc will create or kill pods to match the desire count set by us. we always use controllers like rc to create and manage pods.</p>
<h2 id="ReplicaSet"><a href="#ReplicaSet" class="headerlink" title="ReplicaSet"></a>ReplicaSet</h2><p>A ReplicaSet (rs) is a next generation ReplicationController.</p>
<p><img src="/images/replicaset.png" alt="rs"></p>
<h2 id="deployments"><a href="#deployments" class="headerlink" title="deployments"></a>deployments</h2><p>Deployment objects provide declarative updates to Pods and ReplicaSets. The DeploymentController is part of the master node’s controller manager, and it makes sure that the current state always matches the desired state.</p>
<p><img src="/images/deployment.png" alt="deployment"></p>
<h3 id="deployment-rollout"><a href="#deployment-rollout" class="headerlink" title="deployment rollout"></a>deployment rollout</h3><p>a <strong>rollout</strong> is a update on deployment object. eg, if we update image from 1.7.9 to 1.9.1, then a rollout happens.</p>
<p><img src="/images/rollout.png" alt="rollout"></p>
<p>after <strong>rollout</strong> happens, deployment will keep monitoring ReplicaSet and <strong>rollback</strong> to previous known status.</p>
<h2 id="namespaces"><a href="#namespaces" class="headerlink" title="namespaces"></a>namespaces</h2><p>If we have numerous users whom we would like to organize into teams/projects, we can partition the Kubernetes cluster into sub-clusters using Namespaces.</p>
<p>To list all the Namespaces, we can run the following command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get namespaces</span><br><span class="line">NAME          STATUS       AGE</span><br><span class="line">default       Active       11h</span><br><span class="line">kube-public   Active       11h</span><br><span class="line">kube-system   Active       11h</span><br></pre></td></tr></table></figure>
<p>Generally, Kubernetes creates two default Namespaces: <code>kube-system</code> and <code>default</code>. The <code>kube-system</code> Namespace contains the objects created by the Kubernetes system. The <code>default</code> Namespace contains the objects which belong to any other Namespace. By default, we connect to the <code>default</code> Namespace. <code>kube-public</code> is a special Namespace, which is readable by all users and used for special purposes, like bootstrapping a cluster. </p>
<h2 id="authentication"><a href="#authentication" class="headerlink" title="authentication"></a>authentication</h2><p>kubernetes has two kinds of users:</p>
<ul>
<li>normal users: normal users were managed outside of k8s clusters.</li>
<li>service accounts: they are used to in-cluster communications with the API server.</li>
</ul>
<p>there are different authentication module that can be used.</p>
<h2 id="services"><a href="#services" class="headerlink" title="services"></a>services</h2><h3 id="label-selector"><a href="#label-selector" class="headerlink" title="label selector"></a>label selector</h3><p>label selector is important here. because pods are ephermal in nature, so that there cannot be static ip. so when user wants to connect to pods, kubernets uses a level of abstract to find it – <strong>services</strong>. the problem is how to find it? since the pods are with ephermal nature. Using <strong>label selector</strong>.</p>
<h3 id="kube-proxy"><a href="#kube-proxy" class="headerlink" title="kube-proxy"></a>kube-proxy</h3><p>All of the worker nodes run a daemon called kube-proxy, which watches the API server on the master node for the addition and removal of Services and endpoints.</p>
<h3 id="service-discovery"><a href="#service-discovery" class="headerlink" title="service discovery"></a>service discovery</h3><p>kubernetes has an add-on for DNS, which created a DNS record for each service and an string with specific format so that service under same namespace can access others just use their names.</p>
<p>other pods from other namespace can access this pod using name with namespace suffix.</p>
<h3 id="service-type"><a href="#service-type" class="headerlink" title="service type"></a>service type</h3><p><code>cluster IP</code> and <code>nodePort</code></p>
<p>The <code>NodePort</code> ServiceType is useful when we want to make our Services accessible from the external world.</p>
<p><code>LoadBalancer</code></p>
<p><code>ExternalIP</code></p>
<p>Please note that ExternalIPs are not managed by Kubernetes. The cluster administrators has configured the routing to map the ExternalIP address to one of the nodes.</p>
<p><code>External Name</code></p>
<h2 id="useful-commands"><a href="#useful-commands" class="headerlink" title="useful commands"></a>useful commands</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># list the deployments</span></span><br><span class="line">kubectl get deployments</span><br><span class="line"></span><br><span class="line"><span class="comment"># list the replicas</span></span><br><span class="line">kubectl get replicasets</span><br><span class="line"></span><br><span class="line"><span class="comment"># list the pods</span></span><br><span class="line">kubectl get pods</span><br></pre></td></tr></table></figure>

<ul>
<li>look at the pods details</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl describe pod webserver-74d8bd488f-dwbzz</span><br><span class="line"></span><br><span class="line">Name:           webserver-74d8bd488f-dwbzz</span><br><span class="line">Namespace:      default</span><br><span class="line">Node:           minikube/192.168.99.100</span><br><span class="line">Start Time:     Thu, 22 Mar 2018 09:17:33 +0530</span><br><span class="line">Labels:         k8s-app=webserver</span><br><span class="line">                pod-template-hash=3084680449</span><br><span class="line">Annotations:    &lt;none&gt;</span><br><span class="line">Status:         Running</span><br><span class="line">IP:             172.17.0.5</span><br><span class="line">Controlled By:  ReplicaSet/webserver-74d8bd488f</span><br><span class="line">Containers:</span><br><span class="line">  webserver:</span><br><span class="line">    Container ID:   docker://96302d70903fe3b45d5ff3745a706d67d77411c5378f1f293a4bd721896d6420</span><br><span class="line">    Image:          nginx:alpine</span><br><span class="line">    Image ID:       docker-pullable://nginx@sha256:8d5341da24ccbdd195a82f2b57968ef5f95bc27b3c3691ace0c7d0acf5612edd</span><br><span class="line">    Port:           &lt;none&gt;</span><br><span class="line">    State:          Running</span><br><span class="line">      Started:      Thu, 22 Mar 2018 09:17:33 +0530</span><br><span class="line">    Ready:          True</span><br><span class="line">    Restart Count:  0</span><br><span class="line"></span><br><span class="line"><span class="comment"># list the pods with the attached labels</span></span><br><span class="line">$ kubectl get pods -L k8s-app,label2</span><br><span class="line">NAME                         READY   STATUS    RESTARTS   AGE   K8S-APP     LABEL2</span><br><span class="line">webserver-74d8bd488f-dwbzz   1/1     Running   0          14m   webserver   &lt;none&gt;</span><br><span class="line">webserver-74d8bd488f-npkzv   1/1     Running   0          14m   webserver   &lt;none&gt;</span><br><span class="line">webserver-74d8bd488f-wvmpq   1/1     Running   0          14m   webserver   &lt;none&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># list the pods with label level set to webserver</span></span><br><span class="line">$ kubectl get pods -l k8s-app=webserver</span><br><span class="line">NAME                         READY     STATUS    RESTARTS   AGE</span><br><span class="line">webserver-74d8bd488f-dwbzz   1/1       Running   0          17m</span><br><span class="line">webserver-74d8bd488f-npkzv   1/1       Running   0          19m</span><br><span class="line">webserver-74d8bd488f-wvmpq   1/1       Running   0          17m</span><br></pre></td></tr></table></figure>

<ul>
<li>delete deployments</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl delete deployments webserver</span><br><span class="line">deployment <span class="string">&quot;webserver&quot;</span> deleted</span><br></pre></td></tr></table></figure>

<ul>
<li>create a deployment</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl create -f webserver.yaml</span><br><span class="line">deployment <span class="string">&quot;webserver&quot;</span> created</span><br></pre></td></tr></table></figure>

<p><code>webserver.yaml</code> will be like below:</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">webserver</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nginx</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:alpine</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span></span><br></pre></td></tr></table></figure>

<p>the command above will also create replicasets and pods.</p>
<ul>
<li>exporting specific port to outside world</li>
</ul>
<p>from above we see how to create a deployment from a yaml file. with <code>ServiceType</code> we can define the access mode of a given Service.</p>
<p>with <strong>NodePort</strong> service type, kubenetes opens up a static port on all the worker nodes. let’s see <code>yaml</code> file from below:</p>
<figure class="highlight yaml"><figcaption><span>webserver-svc.yaml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">web-service</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">run:</span> <span class="string">web-service</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">NodePort</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">protocol:</span> <span class="string">TCP</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">nginx</span> </span><br></pre></td></tr></table></figure>

<ul>
<li>list the services</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get svc</span><br><span class="line">NAME          TYPE        CLUSTER-IP     EXTERNAL-IP   PORT(S)        AGE</span><br><span class="line">kubernetes    ClusterIP   10.96.0.1      &lt;none&gt;        443/TCP        1d</span><br><span class="line">web-service   NodePort    10.110.47.84   &lt;none&gt;        80:31074/TCP   12s</span><br></pre></td></tr></table></figure>

<ul>
<li>get ip of application</li>
</ul>
<p><code>minikube ip</code></p>
<ul>
<li>access application in browser</li>
</ul>
<p><code>minikube service web-service</code></p>
<ul>
<li>liveness command</li>
</ul>
<p>liveness container will check the health of application</p>
<p>In the following example, the kubelet sends the HTTP GET request to the /healthz endpoint of the application, on port 8080. If that returns a failure, then the kubelet will restart the affected container; otherwise, it would consider the application to be alive.</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">livenessProbe:</span></span><br><span class="line">      <span class="attr">httpGet:</span></span><br><span class="line">        <span class="attr">path:</span> <span class="string">/healthz</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">        <span class="attr">httpHeaders:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">X-Custom-Header</span></span><br><span class="line">          <span class="attr">value:</span> <span class="string">Awesome</span></span><br><span class="line">      <span class="attr">initialDelaySeconds:</span> <span class="number">3</span></span><br><span class="line">      <span class="attr">periodSeconds:</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>

<p>so that tcp probe</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">livenessProbe:</span></span><br><span class="line">      <span class="attr">tcpSocket:</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">      <span class="attr">initialDelaySeconds:</span> <span class="number">15</span></span><br><span class="line">      <span class="attr">periodSeconds:</span> <span class="number">20</span></span><br></pre></td></tr></table></figure>

<ul>
<li>readiness probe</li>
</ul>
<p>readiness probe ensures certain condition occur before application serves traffic.</p>
<h2 id="volume-management"><a href="#volume-management" class="headerlink" title="volume management"></a>volume management</h2><blockquote>
<p>In Kubernetes, a Volume is attached to a Pod and shared among the containers of that Pod.</p>
</blockquote>
<ul>
<li>emptyDir</li>
</ul>
<blockquote>
<p>An empty Volume is created for the Pod as soon as it is scheduled on the worker node. The Volume’s life is tightly coupled with the Pod. If the Pod dies, the content of emptyDir is deleted forever.  </p>
</blockquote>
<ul>
<li>hostPath</li>
<li>gcePersistentDisk</li>
<li>awsElasticBlockStore</li>
<li>nfs</li>
<li>iscsi</li>
<li>secret</li>
<li>presistentVolumeClaim</li>
</ul>
<p>in containerized world, k8s provides APIs for users to interact with <strong>PersistentVolume(PV)</strong></p>
<h3 id="PVC"><a href="#PVC" class="headerlink" title="PVC"></a>PVC</h3><p>a <strong>PersistentVolumeClaim(PVC)</strong> is a request for storage by a user.</p>
<p><img src="/images/persistentvolumeclaim.PNG" alt="persistentvolumeclaim"></p>
<h3 id="Container-Storage-Interface-CSI"><a href="#Container-Storage-Interface-CSI" class="headerlink" title="Container Storage Interface CSI"></a>Container Storage Interface CSI</h3><p>storage vendors and community members from different orchestrators work together to standardize and form CSI.</p>
<p>k8s (k8s v1.9) alpha support CSI made it easy to install CSI compliant plugins.</p>
<h2 id="config-app-using-ConfigMaps"><a href="#config-app-using-ConfigMaps" class="headerlink" title="config app using ConfigMaps"></a>config app using <code>ConfigMaps</code></h2><p><code>ConfigMaps</code> allow to decouple the configuration from the container image. we can pass conf as key-value pair.</p>
<p>examples:</p>
<ul>
<li>by literal:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl create configmap my-config --from-literal=key1=value1 --from-literal=key2=value2</span><br><span class="line">configmap <span class="string">&quot;my-config&quot;</span> created </span><br></pre></td></tr></table></figure>

<ul>
<li>by file:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl get configmaps my-config -o yaml</span><br><span class="line">apiVersion: v1</span><br><span class="line">data:</span><br><span class="line">  key1: value1</span><br><span class="line">  key2: value2</span><br><span class="line">kind: ConfigMap</span><br><span class="line">metadata:</span><br><span class="line">  creationTimestamp: 2017-05-31T07:21:55Z</span><br><span class="line">  name: my-config</span><br><span class="line">  namespace: default</span><br><span class="line">  resourceVersion: <span class="string">&quot;241345&quot;</span></span><br><span class="line">  selfLink: /api/v1/namespaces/default/configmaps/my-config</span><br><span class="line">  uid: d35f0a3d-45d1-11e7-9e62-080027a46057</span><br></pre></td></tr></table></figure>

<h3 id="configuration-file-for-ConfigMap-creation"><a href="#configuration-file-for-ConfigMap-creation" class="headerlink" title="configuration file for ConfigMap creation"></a>configuration file for <code>ConfigMap</code> creation</h3><p>First, we need to create a configuration file. We can have a configuration file with the content like:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: v1</span><br><span class="line">kind: ConfigMap</span><br><span class="line">metadata:</span><br><span class="line">  name: customer1</span><br><span class="line">data:</span><br><span class="line">  TEXT1: Customer1_Company</span><br><span class="line">  TEXT2: Welcomes You</span><br><span class="line">  COMPANY: Customer1 Company Technology Pct. Ltd.</span><br></pre></td></tr></table></figure>

<h3 id="create-ConfigMap"><a href="#create-ConfigMap" class="headerlink" title="create ConfigMap"></a>create <code>ConfigMap</code></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl create -f customer1-configmap.yaml</span><br><span class="line">configmap <span class="string">&quot;customer1&quot;</span> created</span><br></pre></td></tr></table></figure>

<h2 id="Ingress"><a href="#Ingress" class="headerlink" title="Ingress"></a>Ingress</h2><p>Ingress is another method to access the application</p>
<p>According to kubernetes.io</p>
<blockquote>
<p>An Ingress is a collection of rules that allow inbound connections to reach the cluster Services.</p>
</blockquote>
<p>here is a diagram explaining what is an ingress</p>
<p><img src="/images/ingress.PNG" alt="ingress"></p>
<p>with ingress, users don’t connect directly to a Service, users reach the ingress point first.</p>
<p>those forwarding action is done by <strong>ingress controller</strong>.</p>
<h3 id="Ingress-Controller"><a href="#Ingress-Controller" class="headerlink" title="Ingress Controller"></a>Ingress Controller</h3><blockquote>
<p>An Ingress Controller is an application which watches the Master Node’s API server for changes in the Ingress resources and updates the Layer 7 Load Balancer accordingly. Kubernetes has different Ingress Controllers, and, if needed, we can also build our own. GCE L7 Load Balancer and Nginx Ingress Controller are examples of Ingress Controllers. </p>
</blockquote>
<p>a typical config file would be like this:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">apiVersion: extensions/v1beta1</span><br><span class="line">kind: Ingress</span><br><span class="line">metadata:</span><br><span class="line">  name: web-ingress</span><br><span class="line">  namespace: default</span><br><span class="line">spec:</span><br><span class="line">  rules:</span><br><span class="line">  - host: blue.example.com</span><br><span class="line">    http:</span><br><span class="line">      paths:</span><br><span class="line">      - backend:</span><br><span class="line">          serviceName: webserver-blue-svc</span><br><span class="line">          servicePort: 80</span><br><span class="line">  - host: green.example.com</span><br><span class="line">    http:</span><br><span class="line">      paths:</span><br><span class="line">      - backend:</span><br><span class="line">          serviceName: webserver-green-svc</span><br><span class="line">          servicePort: 80</span><br></pre></td></tr></table></figure>

<p>and then create it.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl create -f webserver-ingress.yaml</span><br></pre></td></tr></table></figure>

<h2 id="credit-to"><a href="#credit-to" class="headerlink" title="credit to"></a>credit to</h2><ul>
<li><a target="_blank" rel="noopener" href="https://courses.edx.org/courses/course-v1:LinuxFoundationX+LFS158x+1T2018/course/">edx k8s course</a></li>
</ul>
</div><div class="tags"><a href="/tags/cheating-sheet/"><i class="fa fa-tag"></i>cheating sheet</a><a href="/tags/kubernetes/"><i class="fa fa-tag"></i>kubernetes</a></div><div class="post-nav"><a class="pre" href="/2019/04/26/python-underscore-naming-patterns-summary/">python underscore naming patterns summary</a><a class="next" href="/2019/04/01/common-unix-commands/">common-unix-commands</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">阅读评论（请确保 Disqus 可以正常加载）</button></div><script type="text/javascript">var disqus_config = function () {
    this.page.url = 'http://example.com/2019/04/19/introduction-to-kubernetes/';
    this.page.identifier = '2019/04/19/introduction-to-kubernetes/';
    this.page.title = 'introduction to kubernetes';
  };</script><script type="text/javascript" id="disqus-lazy-load-script">$.ajax({
url: 'https://disqus.com/next/config.json',
timeout: 2500,
type: 'GET',
success: function(){
  var d = document;
  var s = d.createElement('script');
  s.src = '//joejztang.disqus.com/embed.js';
  s.setAttribute('data-timestamp', + new Date());
  (d.head || d.body).appendChild(s);
  $('.disqus_click_btn').css('display', 'none');
},
error: function() {
  $('.disqus_click_btn').css('display', 'block');
}
});</script><script type="text/javascript" id="disqus-click-load">$('.btn_click_load').click(() => {  //click to load comments
    (() => { // DON'T EDIT BELOW THIS LINE
        var d = document;
        var s = d.createElement('script');
        s.src = '//joejztang.disqus.com/embed.js';
        s.setAttribute('data-timestamp', + new Date());
        (d.head || d.body).appendChild(s);
    })();
    $('.disqus_click_btn').css('display','none');
});</script><script type="text/javascript" id="disqus-count-script">$(function() {
     var xhr = new XMLHttpRequest();
     xhr.open('GET', '//disqus.com/next/config.json', true);
     xhr.timeout = 2500;
     xhr.onreadystatechange = function () {
       if (xhr.readyState === 4 && xhr.status === 200) {
         $('.post-meta .post-comments-count').show();
         var s = document.createElement('script');
         s.id = 'dsq-count-scr';
         s.src = 'https://joejztang.disqus.com/count.js';
         s.async = true;
         (document.head || document.body).appendChild(s);
       }
     };
     xhr.ontimeout = function () { xhr.abort(); };
     xhr.send(null);
   });
</script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/alg-summary/">Alg summary</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/alison-photography/">Alison photography</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c/">C#</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/django/">Django</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">Hexo</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">Java</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/math/">Math</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/math/linear-algebra/">Linear Algebra</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/r/">R</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/sql-server/">SQL Server</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/scrapy/">Scrapy</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/selfnotes/">SelfNotes</a><span class="category-list-count">30</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/unit-test/">Unit Test</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/apache-beam/">apache beam</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/big-data/">big data</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/cheat-sheet/">cheat sheet</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/data-structure/">data structure</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/database/">database</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/deep-learning/">deep learning</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/elasticsearch/">elasticsearch</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/flask/">flask</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/graph/">graph</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/jenkins/">jenkins</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/language-common/">language common</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linear-algebra/">linear algebra</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/nodejs/">nodejs</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/pandas/">pandas</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/photoshop/">photoshop</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/php/">php</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/reactjs/">reactjs</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/security/">security</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/server/">server</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/spark/">spark</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/recommender-system/" style="font-size: 15px;">recommender system</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/https/" style="font-size: 15px;">https</a> <a href="/tags/cheat-sheet/" style="font-size: 15px;">cheat sheet</a> <a href="/tags/logging/" style="font-size: 15px;">logging</a> <a href="/tags/conda/" style="font-size: 15px;">conda</a> <a href="/tags/venv/" style="font-size: 15px;">venv</a> <a href="/tags/unittest/" style="font-size: 15px;">unittest</a> <a href="/tags/cheating-sheet/" style="font-size: 15px;">cheating sheet</a> <a href="/tags/recursion/" style="font-size: 15px;">recursion</a> <a href="/tags/cte/" style="font-size: 15px;">CTE</a> <a href="/tags/sql-server/" style="font-size: 15px;">SQL Server</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/keras/" style="font-size: 15px;">keras</a> <a href="/tags/tensorflow/" style="font-size: 15px;">tensorflow</a> <a href="/tags/elk/" style="font-size: 15px;">elk</a> <a href="/tags/graph-theory/" style="font-size: 15px;">graph theory</a> <a href="/tags/hexo-404-issue/" style="font-size: 15px;">hexo 404 issue</a> <a href="/tags/seo/" style="font-size: 15px;">seo</a> <a href="/tags/hexo-%E4%BC%98%E5%8C%96/" style="font-size: 15px;">hexo 优化</a> <a href="/tags/kubernetes/" style="font-size: 15px;">kubernetes</a> <a href="/tags/java-io/" style="font-size: 15px;">Java IO</a> <a href="/tags/java-8-streams/" style="font-size: 15px;">java 8 streams</a> <a href="/tags/java-lambda/" style="font-size: 15px;">java lambda</a> <a href="/tags/alg/" style="font-size: 15px;">alg</a> <a href="/tags/binary-search/" style="font-size: 15px;">binary search</a> <a href="/tags/pandas/" style="font-size: 15px;">pandas</a> <a href="/tags/photography/" style="font-size: 15px;">photography</a> <a href="/tags/php-tools/" style="font-size: 15px;">php tools</a> <a href="/tags/debug-trick/" style="font-size: 15px;">debug trick</a> <a href="/tags/circular-imports/" style="font-size: 15px;">circular imports</a> <a href="/tags/mock/" style="font-size: 15px;">mock</a> <a href="/tags/react-redux/" style="font-size: 15px;">react-redux</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/react/" style="font-size: 15px;">react</a> <a href="/tags/apache/" style="font-size: 15px;">apache</a> <a href="/tags/redux/" style="font-size: 15px;">redux</a> <a href="/tags/regular-expression/" style="font-size: 15px;">regular expression</a> <a href="/tags/python3/" style="font-size: 15px;">python3</a> <a href="/tags/template/" style="font-size: 15px;">template</a> <a href="/tags/java-8-io/" style="font-size: 15px;">Java 8 IO</a> <a href="/tags/idea/" style="font-size: 15px;">idea</a> <a href="/tags/whim/" style="font-size: 15px;">whim</a> <a href="/tags/hexo-math-equations/" style="font-size: 15px;">hexo math equations</a> <a href="/tags/jenkins/" style="font-size: 15px;">jenkins</a> <a href="/tags/amazon/" style="font-size: 15px;">amazon</a> <a href="/tags/tag/" style="font-size: 15px;">tag</a> <a href="/tags/ood/" style="font-size: 15px;">ood</a> <a href="/tags/epic/" style="font-size: 15px;">Epic</a> <a href="/tags/sql/" style="font-size: 15px;">sql</a> <a href="/tags/frequent/" style="font-size: 15px;">frequent</a> <a href="/tags/tbd/" style="font-size: 15px;">tbd</a> <a href="/tags/google/" style="font-size: 15px;">google</a> <a href="/tags/linkedlist/" style="font-size: 15px;">linkedlist</a> <a href="/tags/sliding-window/" style="font-size: 15px;">sliding window</a> <a href="/tags/tree/" style="font-size: 15px;">tree</a> <a href="/tags/dp/" style="font-size: 15px;">dp</a> <a href="/tags/%E9%9D%A2%E8%AF%95%E9%AB%98%E9%A2%91/" style="font-size: 15px;">面试高频</a> <a href="/tags/bfs/" style="font-size: 15px;">BFS</a> <a href="/tags/dfs/" style="font-size: 15px;">DFS</a> <a href="/tags/two-pointer/" style="font-size: 15px;">two pointer</a> <a href="/tags/rabin-karp/" style="font-size: 15px;">rabin-karp</a> <a href="/tags/graph/" style="font-size: 15px;">graph</a> <a href="/tags/stack/" style="font-size: 15px;">stack</a> <a href="/tags/bst/" style="font-size: 15px;">BST</a> <a href="/tags/twitter/" style="font-size: 15px;">twitter</a> <a href="/tags/iterative/" style="font-size: 15px;">iterative</a> <a href="/tags/two-pointers/" style="font-size: 15px;">two pointers</a> <a href="/tags/ood/" style="font-size: 15px;">OOD</a> <a href="/tags/io/" style="font-size: 15px;">io</a> <a href="/tags/object-oriented-design/" style="font-size: 15px;">Object Oriented Design</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/11/18/code/232-Implement-Queue-using-Stacks/">232. Implement Queue using Stacks</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/16/code/716-Max-Stack/">716. Max Stack</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/15/code/36-Valid-Sudoku/">36. Valid Sudoku</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/15/code/302-Smallest-Rectangle-Enclosing-Black-Pixels/">302. Smallest Rectangle Enclosing Black Pixels</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/15/code/361-Bomb-Enemy/">361. Bomb Enemy</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/15/code/317-Shortest-Distance-from-All-Buildings/">317. Shortest Distance from All Buildings</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/11/13/code/296-Best-Meeting-Point/">296. Best Meeting Point</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/24/code/329-Longest-Increasing-Path-in-a-Matrix/">329. Longest Increasing Path in a Matrix</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/23/code/311-Sparse-Matrix-Multiplication/">311. Sparse Matrix Multiplication</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/09/17/code/203-Remove-Linked-List-Elements/">203. Remove Linked List Elements</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> Recent Comments</i></div><script type="text/javascript" src="//joejztang.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">130L blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><link rel="stylesheet" type="text/css" href="/css/search.css?v=0.0.0"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/copycode.js" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>